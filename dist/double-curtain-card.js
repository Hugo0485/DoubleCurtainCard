
var Lt=Object.defineProperty;var Dt=(r,e,t)=>e in r?Lt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Z=(r,e,t)=>Dt(r,typeof e!="symbol"?e+"":e,t);var K=globalThis,I=K.ShadowRoot&&(K.ShadyCSS===void 0||K.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,F=Symbol(),ut=new WeakMap,R=class{constructor(e,t,i){if(this._$cssResult$=!0,i!==F)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(I&&e===void 0){let i=t!==void 0&&t.length===1;i&&(e=ut.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&ut.set(t,e))}return e}toString(){return this.cssText}},ft=r=>new R(typeof r=="string"?r:r+"",void 0,F),J=(r,...e)=>{let t=r.length===1?r[0]:e.reduce((i,s,o)=>i+(n=>{if(n._$cssResult$===!0)return n.cssText;if(typeof n=="number")return n;throw Error("Value passed to 'css' function must be a 'css' function result: "+n+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+r[o+1],r[0]);return new R(t,r,F)},_t=(r,e)=>{if(I)r.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(let t of e){let i=document.createElement("style"),s=K.litNonce;s!==void 0&&i.setAttribute("nonce",s),i.textContent=t.cssText,r.appendChild(i)}},Y=I?r=>r:r=>r instanceof CSSStyleSheet?(e=>{let t="";for(let i of e.cssRules)t+=i.cssText;return ft(t)})(r):r;var{is:zt,defineProperty:jt,getOwnPropertyDescriptor:Bt,getOwnPropertyNames:qt,getOwnPropertySymbols:Wt,getPrototypeOf:Vt}=Object,E=globalThis,gt=E.trustedTypes,Kt=gt?gt.emptyScript:"",G=E.reactiveElementPolyfillSupport,L=(r,e)=>r,Q={toAttribute(r,e){switch(e){case Boolean:r=r?Kt:null;break;case Object:case Array:r=r==null?r:JSON.stringify(r)}return r},fromAttribute(r,e){let t=r;switch(e){case Boolean:t=r!==null;break;case Number:t=r===null?null:Number(r);break;case Object:case Array:try{t=JSON.parse(r)}catch{t=null}}return t}},yt=(r,e)=>!zt(r,e),vt={attribute:!0,type:String,converter:Q,reflect:!1,useDefault:!1,hasChanged:yt},mt,$t;(mt=Symbol.metadata)!=null||(Symbol.metadata=Symbol("metadata")),($t=E.litPropertyMetadata)!=null||(E.litPropertyMetadata=new WeakMap);var C=class extends HTMLElement{static addInitializer(e){var t;this._$Ei(),((t=this.l)!=null?t:this.l=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=vt){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){let i=Symbol(),s=this.getPropertyDescriptor(e,i,t);s!==void 0&&jt(this.prototype,e,s)}}static getPropertyDescriptor(e,t,i){var n;let{get:s,set:o}=(n=Bt(this.prototype,e))!=null?n:{get(){return this[t]},set(l){this[t]=l}};return{get:s,set(l){let a=s==null?void 0:s.call(this);o==null||o.call(this,l),this.requestUpdate(e,a,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){var t;return(t=this.elementProperties.get(e))!=null?t:vt}static _$Ei(){if(this.hasOwnProperty(L("elementProperties")))return;let e=Vt(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(L("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(L("properties"))){let t=this.properties,i=[...qt(t),...Wt(t)];for(let s of i)this.createProperty(s,t[s])}let e=this[Symbol.metadata];if(e!==null){let t=litPropertyMetadata.get(e);if(t!==void 0)for(let[i,s]of t)this.elementProperties.set(i,s)}this._$Eh=new Map;for(let[t,i]of this.elementProperties){let s=this._$Eu(t,i);s!==void 0&&this._$Eh.set(s,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let i=new Set(e.flat(1/0).reverse());for(let s of i)t.unshift(Y(s))}else e!==void 0&&t.push(Y(e));return t}static _$Eu(e,t){let i=t.attribute;return i===!1?void 0:typeof i=="string"?i:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(t=>t(this))}addController(e){var t,i;((t=this._$EO)!=null?t:this._$EO=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&((i=e.hostConnected)==null||i.call(e))}removeController(e){var t;(t=this._$EO)==null||t.delete(e)}_$E_(){let e=new Map,t=this.constructor.elementProperties;for(let i of t.keys())this.hasOwnProperty(i)&&(e.set(i,this[i]),delete this[i]);e.size>0&&(this._$Ep=e)}createRenderRoot(){var t;let e=(t=this.shadowRoot)!=null?t:this.attachShadow(this.constructor.shadowRootOptions);return _t(e,this.constructor.elementStyles),e}connectedCallback(){var e,t;(e=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(i=>{var s;return(s=i.hostConnected)==null?void 0:s.call(i)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(t=>{var i;return(i=t.hostDisconnected)==null?void 0:i.call(t)})}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$ET(e,t){var o;let i=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,i);if(s!==void 0&&i.reflect===!0){let n=(((o=i.converter)==null?void 0:o.toAttribute)!==void 0?i.converter:Q).toAttribute(t,i.type);this._$Em=e,n==null?this.removeAttribute(s):this.setAttribute(s,n),this._$Em=null}}_$AK(e,t){var o,n,l;let i=this.constructor,s=i._$Eh.get(e);if(s!==void 0&&this._$Em!==s){let a=i.getPropertyOptions(s),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((o=a.converter)==null?void 0:o.fromAttribute)!==void 0?a.converter:Q;this._$Em=s;let h=c.fromAttribute(t,a.type);this[s]=(l=h!=null?h:(n=this._$Ej)==null?void 0:n.get(s))!=null?l:h,this._$Em=null}}requestUpdate(e,t,i){var s,o;if(e!==void 0){let n=this.constructor,l=this[e];if(i!=null||(i=n.getPropertyOptions(e)),!(((s=i.hasChanged)!=null?s:yt)(l,t)||i.useDefault&&i.reflect&&l===((o=this._$Ej)==null?void 0:o.get(e))&&!this.hasAttribute(n._$Eu(e,i))))return;this.C(e,t,i)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,t,{useDefault:i,reflect:s,wrapped:o},n){var l,a,c;i&&!((l=this._$Ej)!=null?l:this._$Ej=new Map).has(e)&&(this._$Ej.set(e,(a=n!=null?n:t)!=null?a:this[e]),o!==!0||n!==void 0)||(this._$AL.has(e)||(this.hasUpdated||i||(t=void 0),this._$AL.set(e,t)),s===!0&&this._$Em!==e&&((c=this._$Eq)!=null?c:this._$Eq=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}let e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var i,s;if(!this.isUpdatePending)return;if(!this.hasUpdated){if((i=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this._$Ep){for(let[n,l]of this._$Ep)this[n]=l;this._$Ep=void 0}let o=this.constructor.elementProperties;if(o.size>0)for(let[n,l]of o){let{wrapped:a}=l,c=this[n];a!==!0||this._$AL.has(n)||c===void 0||this.C(n,void 0,l,c)}}let e=!1,t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),(s=this._$EO)==null||s.forEach(o=>{var n;return(n=o.hostUpdate)==null?void 0:n.call(o)}),this.update(t)):this._$EM()}catch(o){throw e=!1,this._$EM(),o}e&&this._$AE(t)}willUpdate(e){}_$AE(e){var t;(t=this._$EO)==null||t.forEach(i=>{var s;return(s=i.hostUpdated)==null?void 0:s.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(t=>this._$ET(t,this[t]))),this._$EM()}updated(e){}firstUpdated(e){}},bt;C.elementStyles=[],C.shadowRootOptions={mode:"open"},C[L("elementProperties")]=new Map,C[L("finalized")]=new Map,G==null||G({ReactiveElement:C}),((bt=E.reactiveElementVersions)!=null?bt:E.reactiveElementVersions=[]).push("2.1.1");var z=globalThis,X=z.trustedTypes,At=X?X.createPolicy("lit-html",{createHTML:r=>r}):void 0,kt="$lit$",x=`lit$${Math.random().toFixed(9).slice(2)}$`,Ot="?"+x,It=`<${Ot}>`,O=document,j=()=>O.createComment(""),B=r=>r===null||typeof r!="object"&&typeof r!="function",at=Array.isArray,Jt=r=>at(r)||typeof(r==null?void 0:r[Symbol.iterator])=="function",tt=`[ 	
\f\r]`,D=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,St=/-->/g,Ct=/>/g,P=RegExp(`>|${tt}(?:([^\\s"'>=/]+)(${tt}*=${tt}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),wt=/'/g,Et=/"/g,Ut=/^(?:script|style|textarea|title)$/i,lt=r=>(e,...t)=>({_$litType$:r,strings:e,values:t}),y=lt(1),te=lt(2),ee=lt(3),U=Symbol.for("lit-noChange"),_=Symbol.for("lit-nothing"),xt=new WeakMap,k=O.createTreeWalker(O,129);function Nt(r,e){if(!at(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return At!==void 0?At.createHTML(e):e}var Xt=(r,e)=>{let t=r.length-1,i=[],s,o=e===2?"<svg>":e===3?"<math>":"",n=D;for(let l=0;l<t;l++){let a=r[l],c,h,d=-1,p=0;for(;p<a.length&&(n.lastIndex=p,h=n.exec(a),h!==null);)p=n.lastIndex,n===D?h[1]==="!--"?n=St:h[1]!==void 0?n=Ct:h[2]!==void 0?(Ut.test(h[2])&&(s=RegExp("</"+h[2],"g")),n=P):h[3]!==void 0&&(n=P):n===P?h[0]===">"?(n=s!=null?s:D,d=-1):h[1]===void 0?d=-2:(d=n.lastIndex-h[2].length,c=h[1],n=h[3]===void 0?P:h[3]==='"'?Et:wt):n===Et||n===wt?n=P:n===St||n===Ct?n=D:(n=P,s=void 0);let u=n===P&&r[l+1].startsWith("/>")?" ":"";o+=n===D?a+It:d>=0?(i.push(c),a.slice(0,d)+kt+a.slice(d)+x+u):a+x+(d===-2?l:u)}return[Nt(r,o+(r[t]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),i]},q=class r{constructor({strings:e,_$litType$:t},i){let s;this.parts=[];let o=0,n=0,l=e.length-1,a=this.parts,[c,h]=Xt(e,t);if(this.el=r.createElement(c,i),k.currentNode=this.el.content,t===2||t===3){let d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=k.nextNode())!==null&&a.length<l;){if(s.nodeType===1){if(s.hasAttributes())for(let d of s.getAttributeNames())if(d.endsWith(kt)){let p=h[n++],u=s.getAttribute(d).split(x),g=/([.?@])?(.*)/.exec(p);a.push({type:1,index:o,name:g[2],strings:u,ctor:g[1]==="."?st:g[1]==="?"?ot:g[1]==="@"?nt:H}),s.removeAttribute(d)}else d.startsWith(x)&&(a.push({type:6,index:o}),s.removeAttribute(d));if(Ut.test(s.tagName)){let d=s.textContent.split(x),p=d.length-1;if(p>0){s.textContent=X?X.emptyScript:"";for(let u=0;u<p;u++)s.append(d[u],j()),k.nextNode(),a.push({type:2,index:++o});s.append(d[p],j())}}}else if(s.nodeType===8)if(s.data===Ot)a.push({type:2,index:o});else{let d=-1;for(;(d=s.data.indexOf(x,d+1))!==-1;)a.push({type:7,index:o}),d+=x.length-1}o++}}static createElement(e,t){let i=O.createElement("template");return i.innerHTML=e,i}};function T(r,e,t=r,i){var n,l,a;if(e===U)return e;let s=i!==void 0?(n=t._$Co)==null?void 0:n[i]:t._$Cl,o=B(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==o&&((l=s==null?void 0:s._$AO)==null||l.call(s,!1),o===void 0?s=void 0:(s=new o(r),s._$AT(r,t,i)),i!==void 0?((a=t._$Co)!=null?a:t._$Co=[])[i]=s:t._$Cl=s),s!==void 0&&(e=T(r,s._$AS(r,e.values),s,i)),e}var it=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var c;let{el:{content:t},parts:i}=this._$AD,s=((c=e==null?void 0:e.creationScope)!=null?c:O).importNode(t,!0);k.currentNode=s;let o=k.nextNode(),n=0,l=0,a=i[0];for(;a!==void 0;){if(n===a.index){let h;a.type===2?h=new W(o,o.nextSibling,this,e):a.type===1?h=new a.ctor(o,a.name,a.strings,this,e):a.type===6&&(h=new rt(o,this,e)),this._$AV.push(h),a=i[++l]}n!==(a==null?void 0:a.index)&&(o=k.nextNode(),n++)}return k.currentNode=O,s}p(e){let t=0;for(let i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}},W=class r{get _$AU(){var e,t;return(t=(e=this._$AM)==null?void 0:e._$AU)!=null?t:this._$Cv}constructor(e,t,i,s){var o;this.type=2,this._$AH=_,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=s,this._$Cv=(o=s==null?void 0:s.isConnected)!=null?o:!0}get parentNode(){let e=this._$AA.parentNode,t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=T(this,e,t),B(e)?e===_||e==null||e===""?(this._$AH!==_&&this._$AR(),this._$AH=_):e!==this._$AH&&e!==U&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Jt(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==_&&B(this._$AH)?this._$AA.nextSibling.data=e:this.T(O.createTextNode(e)),this._$AH=e}$(e){var o;let{values:t,_$litType$:i}=e,s=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=q.createElement(Nt(i.h,i.h[0]),this.options)),i);if(((o=this._$AH)==null?void 0:o._$AD)===s)this._$AH.p(t);else{let n=new it(s,this),l=n.u(this.options);n.p(t),this.T(l),this._$AH=n}}_$AC(e){let t=xt.get(e.strings);return t===void 0&&xt.set(e.strings,t=new q(e)),t}k(e){at(this._$AH)||(this._$AH=[],this._$AR());let t=this._$AH,i,s=0;for(let o of e)s===t.length?t.push(i=new r(this.O(j()),this.O(j()),this,this.options)):i=t[s],i._$AI(o),s++;s<t.length&&(this._$AR(i&&i._$AB.nextSibling,s),t.length=s)}_$AR(e=this._$AA.nextSibling,t){var i;for((i=this._$AP)==null?void 0:i.call(this,!1,!0,t);e!==this._$AB;){let s=e.nextSibling;e.remove(),e=s}}setConnected(e){var t;this._$AM===void 0&&(this._$Cv=e,(t=this._$AP)==null||t.call(this,e))}},H=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,i,s,o){this.type=1,this._$AH=_,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=o,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=_}_$AI(e,t=this,i,s){let o=this.strings,n=!1;if(o===void 0)e=T(this,e,t,0),n=!B(e)||e!==this._$AH&&e!==U,n&&(this._$AH=e);else{let l=e,a,c;for(e=o[0],a=0;a<o.length-1;a++)c=T(this,l[i+a],t,a),c===U&&(c=this._$AH[a]),n||(n=!B(c)||c!==this._$AH[a]),c===_?e=_:e!==_&&(e+=(c!=null?c:"")+o[a+1]),this._$AH[a]=c}n&&!s&&this.j(e)}j(e){e===_?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},st=class extends H{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===_?void 0:e}},ot=class extends H{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==_)}},nt=class extends H{constructor(e,t,i,s,o){super(e,t,i,s,o),this.type=5}_$AI(e,t=this){var n;if((e=(n=T(this,e,t,0))!=null?n:_)===U)return;let i=this._$AH,s=e===_&&i!==_||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,o=e!==_&&(i===_||s);s&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,i;typeof this._$AH=="function"?this._$AH.call((i=(t=this.options)==null?void 0:t.host)!=null?i:this.element,e):this._$AH.handleEvent(e)}},rt=class{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){T(this,e)}};var et=z.litHtmlPolyfillSupport,Pt;et==null||et(q,W),((Pt=z.litHtmlVersions)!=null?Pt:z.litHtmlVersions=[]).push("3.3.1");var Tt=(r,e,t)=>{var o,n;let i=(o=t==null?void 0:t.renderBefore)!=null?o:e,s=i._$litPart$;if(s===void 0){let l=(n=t==null?void 0:t.renderBefore)!=null?n:null;i._$litPart$=s=new W(e.insertBefore(j(),l),l,void 0,t!=null?t:{})}return s._$AI(r),s};var N=globalThis,w=class extends C{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,i;let e=super.createRenderRoot();return(i=(t=this.renderOptions).renderBefore)!=null||(t.renderBefore=e.firstChild),e}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Tt(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return U}},Ht;w._$litElement$=!0,w.finalized=!0,(Ht=N.litElementHydrateSupport)==null||Ht.call(N,{LitElement:w});var ct=N.litElementPolyfillSupport;ct==null||ct({LitElement:w});var Mt;((Mt=N.litElementVersions)!=null?Mt:N.litElementVersions=[]).push("4.2.1");var V=class extends w{constructor(){super();Z(this,"_openAll",()=>{this._setPosition(this.config.left_entity,100),this._setPosition(this.config.right_entity,100),this.doorActive={left:!1,right:!1}});Z(this,"_closeAll",()=>{this._setPosition(this.config.left_entity,0),this._setPosition(this.config.right_entity,0),this.doorActive={left:!1,right:!1}});this.blinking={leftOpen:!1,leftClose:!1,rightOpen:!1,rightClose:!1},this.livePct={},this.doorActive={left:!1,right:!1},this._prevEntities={left:void 0,right:void 0},this._cleanupDrag=null,this._draggingEntity=null}static get properties(){return{hass:{},config:{},blinking:{},livePct:{},doorActive:{}}}static get styles(){return J`
      ha-card{
        max-width:650px;margin:auto;padding:16px;overflow:hidden;
        background:var(--ha-card-background,var(--card-background-color,#fff));
        border-radius:var(--ha-card-border-radius,16px);
        box-shadow:var(--ha-card-box-shadow,0 2px 6px rgba(0,0,0,.2));
        color:var(--primary-text-color);
        font-family:var(--paper-font-body1_-_font-family,"Segoe UI",Roboto,sans-serif);
      }
      .title{font-size:1.1em;font-weight:600;margin-bottom:8px;text-align:center}
      .global{display:flex;justify-content:center;gap:12px;margin-bottom:16px}
      .row{display:flex;gap:20px;flex-wrap:nowrap}
      .col{flex:1;min-width:0;text-align:center}
      .sub{font-size:.9em;font-weight:600;margin-bottom:4px}
      .icon-btn{
        display:inline-flex;align-items:center;justify-content:center;
        min-width:42px;height:42px;border-radius:12px;
        border:1px solid var(--divider-color,#d0d0d0);
        background:var(--card-background-color);color:var(--primary-text-color);
        cursor:pointer;transition:background .15s,color .15s,border-color .15s,transform .08s
      }
      .icon-btn:hover{ background:var(--primary-color); color:#fff; border-color:var(--primary-color); transform:scale(1.05); }
      .icon-btn.active{border-color: var(--primary-color); color: var(--primary-color);}
      .icon-btn.active:hover{background: var(--primary-color); color: #fff; border-color: var(--primary-color);}
      .blink { border-color: var(--primary-color); color: var(--primary-color); animation: blinkColor 1s infinite; }
      @keyframes blinkColor {
        0%,100% { background: var(--card-background-color); color: var(--primary-color); }
        50% { background: var(--primary-color); color: #fff; }
      }
      .slider-wrap{position:relative;margin-top:2px}
      .pct-row{ margin:6px 0; font-size:.9em;font-weight:600;opacity:.85;text-align:center; }
      .slider{position:relative;height:28px;user-select:none;touch-action:none}
      .track{ position:absolute;left:0;right:0;top:50%;transform:translateY(-50%);height:6px;border-radius:999px;background:var(--slider-track-color,#d7dadd); }
      .fill{ position:absolute;top:50%;transform:translateY(-50%);height:6px;border-radius:999px;background:var(--slider-color,var(--primary-color));transition:width .12s ease; }
      .fill.left{left:0} .fill.right{right:0}
      .thumb{ position:absolute;top:50%;transform:translate(-50%,-50%);width:16px;height:16px;border-radius:50%;background:var(--slider-thumb-bg,var(--card-background-color));border:2px solid var(--slider-color,var(--primary-color));transition:transform .08s ease;z-index:2; }
      .slider:hover .thumb{transform:translate(-50%,-50%) scale(1.06)}
      .muted{opacity:.6}
    `}_clamp(t){return Math.max(0,Math.min(100,Number(t)||0))}_round(t){return Math.round(this._clamp(t))}_fmtPct(t){return`${this._round(t)}%`}_safePos(t){var s;let i=(s=t==null?void 0:t.attributes)==null?void 0:s.current_position;return(t==null?void 0:t.state)==="unavailable"||(t==null?void 0:t.state)==="unknown"||i==null||isNaN(Number(i))?0:this._clamp(i)}_isInverted(t){let i=this.config||{};return t?t===i.left_entity?!!i.invert_left:t===i.right_entity?!!i.invert_right:!1:!1}setConfig(t){var n,l;let s={...{name:"Double Curtain Card",left_label:"Left Curtain",right_label:"Right Curtain",invert_left:!1,invert_right:!1},...t};(s.left_door_position===""||s.left_door_position===null)&&delete s.left_door_position,(s.right_door_position===""||s.right_door_position===null)&&delete s.right_door_position,this.config=s;let o={left:(n=this.config)==null?void 0:n.left_entity,right:(l=this.config)==null?void 0:l.right_entity};(this._prevEntities.left!==o.left||this._prevEntities.right!==o.right)&&(this.livePct={},this.blinking={leftOpen:!1,leftClose:!1,rightOpen:!1,rightClose:!1},this.doorActive={left:!1,right:!1},this._prevEntities=o)}disconnectedCallback(){var t,i;(t=super.disconnectedCallback)==null||t.call(this),(i=this._cleanupDrag)==null||i.call(this),this._cleanupDrag=null,this._draggingEntity=null}updated(){var p,u,g,b;let t=this.config||{},i=(u=(p=this.hass)==null?void 0:p.states)==null?void 0:u[t.left_entity],s=(b=(g=this.hass)==null?void 0:g.states)==null?void 0:b[t.right_entity],o=(m,A)=>{let f=m==null?void 0:m.state;if(!f||f==="unavailable"||f==="unknown"||f==="idle"||f==="stopped")return{opening:!1,closing:!1};let $=f==="opening",v=f==="closing";return A?{opening:v,closing:$}:{opening:$,closing:v}},n=this._isInverted(t.left_entity),l=this._isInverted(t.right_entity),a=o(i,n),c=o(s,l),h={leftOpen:a.opening,leftClose:a.closing,rightOpen:c.opening,rightClose:c.closing};if(JSON.stringify(h)!==JSON.stringify(this.blinking)&&(this.blinking=h),!!!this._draggingEntity){let m=this._safePos(i),A=this._safePos(s),f=n?100-m:m,$=l?100-A:A;if(this.livePct[t.left_entity]===f){let{[t.left_entity]:v,...S}=this.livePct;this.livePct=S}if(this.livePct[t.right_entity]===$){let{[t.right_entity]:v,...S}=this.livePct;this.livePct=S}}}_renderSlider(t,i,s,o,n){let l=this._clamp(t),a=i==="right"?100-l:l;return y`
      <div class="slider" @pointerdown=${c=>this._startDrag(c,i,l,s,o,n)}>
        <div class="track"></div>
        <div class="fill ${i}" style="width:${a}%"></div>
        <div class="thumb" style="left:${l}%"></div>
      </div>
    `}_startDrag(t,i,s,o,n,l){var g,b,m,A;this._draggingEntity=o;let a=t.currentTarget,c=a.getBoundingClientRect(),h=f=>this._clamp((f-c.left)/c.width*100),d=f=>n(h(f),i,a),p=f=>{var $,v,S,M;f.preventDefault(),d((M=f.clientX)!=null?M:(S=(v=($=f.touches)==null?void 0:$[0])==null?void 0:v.clientX)!=null?S:0)},u=()=>{if(window.removeEventListener("pointermove",p),window.removeEventListener("pointerup",u),this._cleanupDrag=null,this._draggingEntity=null,l==null||l(),o in this.livePct){let{[o]:f,...$}=this.livePct;this.livePct=$,this.requestUpdate("livePct")}};d((A=t.clientX)!=null?A:(m=(b=(g=t.touches)==null?void 0:g[0])==null?void 0:b.clientX)!=null?m:0),window.addEventListener("pointermove",p,{passive:!1}),window.addEventListener("pointerup",u),this._cleanupDrag=()=>u()}_entityToSide(t){var i,s;return t===((i=this.config)==null?void 0:i.left_entity)?"left":t===((s=this.config)==null?void 0:s.right_entity)?"right":void 0}renderCurtain(t,i,s=!1){var b,m;let o=(m=(b=this.hass)==null?void 0:b.states)==null?void 0:m[t];if(!o||o.state==="unavailable"||o.state==="unknown")return y`<div class="col"><div class="sub">${i}</div><div class="muted">Entity ${o?o.state:"not found"}</div></div>`;let l=this._safePos(o),a=this._isInverted(t)?100-l:l,h=this._draggingEntity===t&&this.livePct[t]!==void 0?this.livePct[t]:a,d=s?a:100-a,p=this._round(a),u=(A,f,$)=>{let v=this._clamp(A),S=this._round(s?v:100-v);p=S,this.livePct={...this.livePct,[t]:S},this.requestUpdate("livePct");let M=$.querySelector(".fill"),dt=$.querySelector(".thumb");dt&&(dt.style.left=`${v}%`);let Rt=s?100-v:v;M&&(M.style.width=`${Rt}%`);let pt=this._entityToSide(t);pt&&(this.doorActive={...this.doorActive,[pt]:!1})},g=()=>this._setPosition(t,p);return y`
      <div class="col">
        <div class="sub">${i}</div>
        <div class="slider-wrap">
          ${this._renderSlider(d,s?"right":"left",t,u,g)}
        </div>
        <div class="pct-row">${this._fmtPct(h)}</div>
        <div class="global" style="margin-top:10px;gap:10px;">
          ${s?y`
            <button class="icon-btn ${this.blinking.rightClose?"blink":""}" title="Close" @click=${()=>this._setPosition(t,0)}><ha-icon icon="mdi:arrow-left"></ha-icon></button>
            <button class="icon-btn" title="Stop" @click=${()=>this._stop(t)}><ha-icon icon="mdi:stop"></ha-icon></button>
            <button class="icon-btn ${this.blinking.rightOpen?"blink":""}" title="Open" @click=${()=>this._setPosition(t,100)}><ha-icon icon="mdi:arrow-right"></ha-icon></button>
          `:y`
            <button class="icon-btn ${this.blinking.leftOpen?"blink":""}" title="Open" @click=${()=>this._setPosition(t,100)}><ha-icon icon="mdi:arrow-left"></ha-icon></button>
            <button class="icon-btn" title="Stop" @click=${()=>this._stop(t)}><ha-icon icon="mdi:stop"></ha-icon></button>
            <button class="icon-btn ${this.blinking.leftClose?"blink":""}" title="Close" @click=${()=>this._setPosition(t,0)}><ha-icon icon="mdi:arrow-right"></ha-icon></button>
          `}
        </div>
      </div>
    `}render(){var p,u,g,b;let t=this.config||{};if(!t.left_entity||!t.right_entity)return y`
        <ha-card>
          <div class="title">${t.name||"Double Curtain Card"}</div>
          <div style="padding:12px">Configureer <code>left_entity</code> en <code>right_entity</code> in de kaart.</div>
        </ha-card>
      `;let i=t.name||"Double Curtain Card",s=t.left_label||"Left Curtain",o=t.right_label||"Right Curtain",n=(u=(p=this.hass)==null?void 0:p.states)==null?void 0:u[t.left_entity],l=(b=(g=this.hass)==null?void 0:g.states)==null?void 0:b[t.right_entity],a=this._safePos(n),c=this._safePos(l),h=a>=95&&c>=95,d=a<=5&&c<=5;return y`
      <ha-card>
        <div class="title">${i}</div>
        <div class="global">
          ${t.left_door_position!==void 0?y`
            <button class="icon-btn ${this.doorActive.left?"active":""}" title="Door (left)" @click=${()=>this._door("left")}>
              <ha-icon icon="mdi:door-open"></ha-icon>
            </button>`:""}
          <button class="icon-btn ${h?"active":""}" title="Open all" @click=${this._openAll}><ha-icon icon="mdi:arrow-expand-horizontal"></ha-icon></button>
          <button class="icon-btn ${d?"active":""}" title="Close all" @click=${this._closeAll}><ha-icon icon="mdi:arrow-collapse-horizontal"></ha-icon></button>
          ${t.right_door_position!==void 0?y`
            <button class="icon-btn ${this.doorActive.right?"active":""}" title="Door (right)" @click=${()=>this._door("right")}>
              <ha-icon icon="mdi:door-open"></ha-icon>
            </button>`:""}
        </div>
        <div class="row">
          ${this.renderCurtain(t.left_entity,s,!1)}
          ${this.renderCurtain(t.right_entity,o,!0)}
        </div>
      </ha-card>
    `}_setPosition(t,i){let s=this._round(i),o=this._isInverted(t)?100-s:s;this.hass.callService("cover","set_cover_position",{entity_id:t,position:o})}_stop(t){this.hass.callService("cover","stop_cover",{entity_id:t}),this.blinking={leftOpen:!1,leftClose:!1,rightOpen:!1,rightClose:!1},this.doorActive={left:!1,right:!1}}_door(t){var s,o,n;let i=this._clamp((o=(s=this.config)==null?void 0:s[`${t}_door_position`])!=null?o:50);this._setPosition((n=this.config)==null?void 0:n[`${t}_entity`],i),this.doorActive={...this.doorActive,[t]:!0}}getCardSize(){return 3}};customElements.get("double-curtain-card")||customElements.define("double-curtain-card",V);window.customCards=window.customCards||[];window.customCards.some(r=>r.type==="double-curtain-card")||window.customCards.push({type:"double-curtain-card",name:"Double Curtain Card",description:"Dual-cover slider met deur-presets, invert per kant en % onder de slider",preview:!0});var ht=class extends w{static get properties(){return{hass:{},_config:{}}}setConfig(e){this._config={...e}}_schema(){return[{name:"name",selector:{text:{}}},{name:"left_entity",required:!0,selector:{entity:{domain:"cover"}}},{name:"right_entity",required:!0,selector:{entity:{domain:"cover"}}},{name:"left_label",selector:{text:{}}},{name:"right_label",selector:{text:{}}},{name:"invert_left",selector:{boolean:{}},helper:"Invert left cover (open/close reversed)"},{name:"invert_right",selector:{boolean:{}},helper:"Invert right cover (open/close reversed)"},{name:"left_door_position",selector:{number:{min:0,max:100,mode:"box",step:1}},helper:"Leave empty to hide left door button"},{name:"right_door_position",selector:{number:{min:0,max:100,mode:"box",step:1}},helper:"Leave empty to hide right door button"}]}_valueChanged(e){let t=e.detail.value||{};t.left_door_position===""&&delete t.left_door_position,t.right_door_position===""&&delete t.right_door_position,this._config=t,this.dispatchEvent(new CustomEvent("config-changed",{detail:{config:t}}))}render(){let e=this._config||{};return y`
      <ha-form
        .hass=${this.hass}
        .data=${e}
        .schema=${this._schema()}
        @value-changed=${this._valueChanged}>
      </ha-form>
    `}static get styles(){return J`:host{display:block} ha-form{--mdc-theme-primary: var(--primary-color)}`}};customElements.define("double-curtain-card-editor",ht);V.getConfigElement=async()=>document.createElement("double-curtain-card-editor");V.getStubConfig=r=>{let e=Object.keys(r.states||{}).filter(s=>s.startsWith("cover.")),[t="cover.left_curtain",i="cover.right_curtain"]=e;return{type:"custom:double-curtain-card",name:"Living Room Curtains",left_entity:t,right_entity:i,left_label:"Curtain left",right_label:"Curtain right",invert_left:!1,invert_right:!1,left_door_position:30,right_door_position:30}};
/*! Bundled license information:

@lit/reactive-element/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/reactive-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-element/lit-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/is-server.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
